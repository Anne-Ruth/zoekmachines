<!DOCTYPE html>
<html>
  <head>
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='stylesheets/style.css') }}">
    <title>Results | {{request.form['search']}}</title>
  </head>

  <body>
    <div class="body">
      <h1><a class="header" href="{{ url_for('.index') }}">Eend eend ga</a></h1>
      <p>Doe zoeken dan slet.</p>

      <div class="navbar">
        <form class="form" action = "http://localhost:5000/result" method = "POST">
          <input type="text" value={{request.form['search']}} name="search">
          <button class="btn" type="submit">getwoe</button>

          <a style="cursor: pointer;" onclick="showAdvSearch()">Extra shit</a>
          <div id="extra" style="display:none;">
            Tijd units:
            <input type="date" name="startdate" min="2009-01-28" max="2013-01-13" value={{request.form['startdate']}}>
            <input type="date" name="enddate" min="2009-01-28" max="2013-01-13" value={{request.form['enddate']}}>

            Categorie units:
            <select name = "categorylist">
              <option value=""> -Kies een categorie- </option>
              {% for hit in cat['hits']['hits'] %}
                <option value = {{ hit['_source']['categoryId'] }}> {{ hit['_source']['category'] }} </option>
              {% endfor %}

            </select>
          </div>

        </form>
      </div>

    </div>

    <div>
      <a href="{{ url_for('.timeline') }}">Timeline</a>
    </div>

    <table class="table">
      <thead>
        <tr>
          <th>Question ID</th>
          <th>Title</th>
          <th>Description</th>
          <th>Date</th>
        </tr>
      </thead>

      <center>
        <h1>Results: ({{ result['hits']['total'] }}) </h1>
      </center>

      {% for hit in result['hits']['hits'] %}
        <tbody>
          <tr>
            <td>{{ hit['_source']['questionId'] }}</td>
            <td><a href="/answer/{{ hit['_source']['questionId'] }}">{{ hit['_source']['question'] }}</a></td>
            <td>{{ hit['_source']['description'] }}</td>
            <td>{{ hit['_source']['date'] }}</td>
          </tr>
        </tbody>
      {% endfor %}
    </table>

    <script>
      function showAdvSearch() {
          var x = document.getElementById("extra");
          if (x.style.display == "none") {
              x.style.display = "block";
          } else {
              x.style.display = "none";
          }
      }
    </script>
  </body>
</html>
